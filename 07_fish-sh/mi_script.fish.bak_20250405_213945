#!/usr/bin/fish

# FunciÃ³n para verificar conexiÃ³n a internet
function check_internet
    echo "ğŸ” Verificando conexiÃ³n a internet..."
    if ping -c 1 google.com >/dev/null 2>&1
        echo "âœ… ConexiÃ³n activa."
    else
        echo "âŒ Sin conexiÃ³n."
    end
end

# Saludo personalizado
function saludar
    set nombre (whoami)
    set hora (date +%H)
    if test $hora -lt 12
        echo "Â¡Buenos dÃ­as, $nombre! ğŸŸ"
    else if test $hora -lt 18
        echo "Â¡Buenas tardes, $nombre! ğŸŒ"
    else
        echo "Â¡Buenas noches, $nombre! ğŸŒ™"
    end
end

# Backup de un archivo
function hacer_backup
    echo "ğŸ“‚ Ingresa la ruta del archivo para backup:"
    read -P "> " archivo
    if test -f "$archivo"
        set fecha (date +%Y%m%d_%H%M%S)
        cp -v "$archivo" "$archivo.bak_$fecha"
        echo "âœ… Backup creado: $archivo.bak_$fecha"
    else
        echo "âŒ El archivo '$archivo' no existe."
    end
end

# --- EjecuciÃ³n principal ---
clear
saludar
echo "\nğŸ“‹ Contenido del directorio actual:"
ls -l --color=auto
echo ""
check_internet
echo ""
hacer_backup
